<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  	 <meta property="og:title" content="‚ô®Ô∏è Cr√©e et heberge ton propre bot messenger | By Merdi Madimba">
<meta property="og:description" content=" inscription CDM ligaverband ">
<meta property="og:image" content="https://i.ibb.co/KcYMxCrq/image.jpg">
<meta property="og:url" content="https://isekai-auto-bot-idrem.onrender.com">
<meta property="og:type" content="website">
		 <meta name="twitter:card" content="summary_large_image">
		 
			<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
			<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
  <title>Inscription - CDM Ligaverband</title>
  <link rel="icon" type="image/png" href="https://i.ibb.co/KcYMxCrq/image.jpg">
  <style>
    :root{
      --primary-blue: #133f9a;
      --card-blue: #2b66d6;
      --muted: #6b7280;
      --bg: #f4f6fb;
      --card-radius: 12px;
    }
    body{
      margin:0;
      font-family: "Segoe UI", Roboto, Arial, sans-serif;
      background: var(--bg);
      color:#0b1a2b;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
    .wrap{ max-width: 720px; margin: 18px auto; padding: 16px; }
    header.site-header{
      background: white; border-radius: var(--card-radius);
      padding: 18px 20px;
      box-shadow: 0 6px 18px rgba(15,23,42,0.06);
      display:flex; align-items:center; gap:14px;
      margin-bottom: 14px;
    }
    header.site-header .logo-circle{
      width:56px; height:56px; border-radius:50%;
      background: linear-gradient(180deg, var(--card-blue), #1d4fc5);
      display:flex; align-items:center; justify-content:center;
      box-shadow: 0 6px 12px rgba(43,102,214,0.18);
      color: white; font-weight:700; font-size:20px;
    }
    header.site-header .title{ display:flex; flex-direction:column; }
    header.site-header h1{ margin:0; font-size:18px; color:var(--primary-blue); }
    header.site-header p{ margin:2px 0 0; color:var(--muted); font-size:13px; }
    .form-card{ background: white; border-radius: var(--card-radius);
      box-shadow: 0 8px 26px rgba(12,20,40,0.06); overflow: hidden; }
    .form-top{ background: linear-gradient(180deg, #ffffff 0%, #ffffff 0%);
      padding: 22px 24px 12px; }
    .info-box{
      background: white; border-radius: 12px; padding: 18px; text-align:center;
      position: relative; margin: -28px 12px 12px;
      box-shadow: 0 10px 20px rgba(18,44,88,0.06);
    }
    .info-icon{
      width:64px; height:64px; border-radius:50%;
      background: var(--card-blue);
      display:inline-flex; align-items:center; justify-content:center;
      color:#fff; font-size:28px; margin-top:-32px;
      box-shadow: 0 6px 14px rgba(43,102,214,0.18);
    }
    .info-title{ margin:10px 0 4px; font-size:20px; color: var(--primary-blue);
      font-weight:700; letter-spacing:0.4px; text-transform: uppercase; }
    .info-sub{ margin:0; color: var(--muted); font-size:14px; }
    .form-body{ padding: 18px 22px 28px; }
    form{ max-width: 640px; margin: 0 auto; }
    .row{ display:block; margin-bottom:10px; }
    label{ display:block; font-weight:700; font-size: 14px;
      color:#243142; margin-bottom:6px; }
    input[type="text"], input[type="url"], input[type="email"], input[type="date"], select{
      width:100%; box-sizing:border-box; padding:12px 14px;
      border-radius:10px; border:1px solid #e4e8ef; background: #fff;
      font-size:15px; outline:none;
      transition: box-shadow .12s ease, border-color .12s ease;
    }
    input:focus, select:focus{ border-color: var(--card-blue);
      box-shadow: 0 6px 18px rgba(43,102,214,0.12); }
    .small{ font-size:13px; color:var(--muted); margin-top:6px; }
    .actions{ margin-top:18px; }
    button[type="submit"]{
      width:100%; padding:13px 18px;
      background: linear-gradient(180deg, #28a745, #1f8b3a);
      border:none; color:#fff; font-weight:700; font-size:16px;
      border-radius:10px; cursor:pointer;
      box-shadow: 0 8px 18px rgba(32,128,56,0.15);
    }
    button[type="submit"]:active { transform: translateY(1px); }
    @media (max-width:520px){
      .wrap { padding:12px; }
      .info-title { font-size:18px; }
      .info-icon { width:56px; height:56px; font-size:24px; margin-top:-28px; }
    }
  </style>

  <!-- Supabase SDK -->
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script>
    const SUPABASE_URL = "https://ohuhgrjbciksfhjgewbo.supabase.co"; 
    const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9odWhncmpiY2lrc2Zoamdld2JvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgwODI2NjAsImV4cCI6MjA3MzY1ODY2MH0.Sg08ABEQI2V7xDtJQh0WqbwAf1xVOmcjjmZSTHrHtgY";
    const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
  </script>
</head>
<body>
  <!-- ‚Ä¶ ton body reste identique ‚Ä¶ -->
    <div class="wrap">
    <header class="site-header" aria-hidden="false">
      <div class="logo-circle">CDM</div>
      <div class="title">
        <h1>CDM de la Ligaverband</h1>
        <p>Portail d'inscription ‚Äî Coupe du Monde Manga Quizz</p>
      </div>
    </header>

    <section class="form-card" aria-labelledby="form-title">
      <div class="form-top">
        <div class="info-box" role="region" aria-label="Informations Personnelles">
          <div class="info-icon" aria-hidden="true">üéì</div>
          <div class="info-title" id="form-title">INFORMATIONS PERSONNELLES</div>
          <p class="info-sub">Identit√©, √©tat civil et informations de naissance</p>
        </div>
      </div>

      <div class="form-body">
        <form id="inscription-form" novalidate>
          <div class="row">
            <label for="nom">Nom du candidat *</label>
            <input id="nom" name="nom" type="text" required autocomplete="name" />
          </div>
          <div class="row">
            <label for="postnom">Post-nom du candidat *</label>
            <input id="postnom" name="postnom" type="text" required />
          </div>
          <div class="row">
            <label for="prenom">Pr√©nom du candidat *</label>
            <input id="prenom" name="prenom" type="text" required />
          </div>
          <div class="row">
            <label for="fbname">Nom sur Facebook *</label>
            <input id="fbname" name="fbname" type="text" required />
          </div>
          <div class="row">
            <label for="fblink">Lien du profil Facebook *</label>
            <input id="fblink" name="fblink" type="url" placeholder="https://facebook.com/nom.profil" required />
            <div class="small">Entrez le lien complet du profil (commen√ßant par https://)</div>
          </div>
          <div class="row">
            <label for="email">Compte Gmail *</label>
            <input id="email" name="email" type="email" placeholder="exemple@gmail.com" required />
          </div>
          <div class="row">
            <label for="pays">Pays *</label>
            <select id="pays" name="pays" required>
              <option value="">-- S√©lectionnez votre pays --</option>
              <option value="RDC">RDC</option>
              <option value="Benin">B√©nin</option>
              <option value="CIV">C√¥te d'Ivoire</option>
              <option value="Burkina">Burkina Faso</option>
              <option value="Cameroun">Cameroun</option>
              <option value="Togo">Togo</option>
              <option value="RCA">RCA</option>
              <option value="Senegal">S√©n√©gal</option>
              <option value="Gabon">Gabon</option>
              <option value="Guinee">Guin√©e</option>
            </select>
          </div>
          <div class="row">
            <label for="ville">Ville *</label>
            <select id="ville" name="ville" required disabled>
              <option value="">-- S√©lectionnez d'abord un pays --</option>
            </select>
          </div>
          <div class="row">
            <label for="naissance">Date de naissance *</label>
            <input id="naissance" name="naissance" type="date" required />
          </div>
          <div class="row">
            <label for="verse">Verse pr√©f√©r√© *</label>
            <input id="verse" name="verse" type="text" placeholder="Ex: One Piece, Naruto..." required />
          </div>
          <div class="row">
            <label for="antagoniste">Antagoniste pr√©f√©r√© *</label>
            <input id="antagoniste" name="antagoniste" type="text" required />
          </div>
          <div class="row">
            <label for="protagoniste">Protagoniste pr√©f√©r√© *</label>
            <input id="protagoniste" name="protagoniste" type="text" required />
          </div>
          <div class="actions">
            <button type="submit">S'inscrire</button>
          </div>
        </form>
      </div>
    </section>
  </div>

<script>
  // donn√©es villes par pays
  const villesParPays = {
    "RDC": ["Kinshasa", "Lubumbashi", "Matadi", "Autres"],
    "Benin": ["Cotonou", "Porto-Novo", "Parakou", "Autres"],
    "CIV": ["Abidjan", "Bouak√©", "Yamoussoukro", "Autres"],
    "Burkina": ["Ouagadougou", "Bobo-Dioulasso", "Koudougou", "Autres"],
    "Cameroun": ["Douala", "Yaound√©", "Garoua", "Autres"],
    "Togo": ["Lom√©", "Sokod√©", "Kara", "Autres"],
    "RCA": ["Bangui", "Bimbo", "Berb√©rati", "Autres"],
    "Senegal": ["Dakar", "Thi√®s", "Saint-Louis", "Autres"],
    "Gabon": ["Libreville", "Port-Gentil", "Franceville", "Autres"],
    "Guinee": ["Conakry", "Nz√©r√©kor√©", "Kankan", "Autres"]
  };

  const paysSelect = document.getElementById("pays");
  const villeSelect = document.getElementById("ville");
  const form = document.getElementById("inscription-form");

  function resetVillePlaceholder() {
    villeSelect.innerHTML = "";
    const placeholder = document.createElement("option");
    placeholder.value = "";
    placeholder.textContent = "-- S√©lectionnez une ville --";
    villeSelect.appendChild(placeholder);
    villeSelect.value = "";
    villeSelect.disabled = true;
  }
  resetVillePlaceholder();

  paysSelect.addEventListener("change", () => {
    const pays = paysSelect.value;
    resetVillePlaceholder();
    if (pays && villesParPays[pays]) {
      villesParPays[pays].forEach((ville) => {
        const option = document.createElement("option");
        option.value = ville;
        option.textContent = ville;
        villeSelect.appendChild(option);
      });
      villeSelect.disabled = false;
    }
  });

  // soumission
  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const inputs = form.querySelectorAll("input[required], select[required]");
    for (let input of inputs) {
      if (!input.value.trim()) {
        alert("Veuillez remplir le champ : " + (input.labels[0]?.innerText || input.name));
        input.focus();
        return;
      }
    }

    const data = Object.fromEntries(new FormData(form).entries());
    console.log("Donn√©es formulaire:", data);

    const { error } = await supabase
      .from("candidats")
      .insert([data]);

    if (error) {
      console.error("Erreur Supabase:", error);
      alert(error.message || "Une erreur est survenue lors de l'inscription.");
    } else {
      window.location.href = "merci.html";
    }
  });
</script>
</body>
</html>
